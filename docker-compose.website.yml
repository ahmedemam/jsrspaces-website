# Website Service
# Supports static sites, Next.js exports, React builds, etc.

services:
  website:
    image: nginx:alpine
    restart: unless-stopped
    container_name: jsrspaces_website
    depends_on:
      - proxy
    volumes:
      # Mount your built website files
      # Vite builds to ./build directory (see vite.config.ts)
      - ./build:/usr/share/nginx/html:ro
      # Optional: custom nginx config
      - ./nginx.conf:/etc/nginx/conf.d/default.conf:ro
    networks:
      - jsrspaces_network
    healthcheck:
      test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://localhost"]
      interval: 30s
      timeout: 10s
      retries: 3

